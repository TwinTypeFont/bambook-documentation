<!doctype html>
<html lang="zh-TW">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Bambook-DOC_V0.0.4</title>
  <link rel="stylesheet" href="/assets/style/style.css?v=1769835191">
  <link rel="stylesheet" href="/assets/style/prism-okaidia.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Chiron+Hei+HK:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
  <link rel="icon" href="/assets/images/favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>
  <link rel="canonical" href="./">
  
    
    <link rel="alternate" hreflang="en" href="/en/v0.0.4/index.html">
  
    
    <link rel="alternate" hreflang="zh-TW" href="/zh-TW/v0.0.4/index.html">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@100..800&display=swap" rel="stylesheet">
</head>
<body style="  text-autospace: normal;word-break: auto-phrase;">
  <button class="hamburger" id="sidebarToggle" aria-label="Open menu" aria-haspopup="true" aria-controls="sidebarBox" aria-expanded="false">
    <span class="material-symbols-outlined">menu</span>
  </button>
  <div id="sidebarBackdrop" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:998;"></div>

  <aside class="sidebar_box xingothic-tc-w5" id="sidebarBox" aria-hidden="true">
  <div>
  
  <nav class="doc-switchers" aria-label="Language and version switchers">
    
      <ul class="lang-switcher" style="list-style:none;display:flex;gap:4px;padding:0;margin:0;">
        
          
          <li class="active" style="margin:0px;">
            
              <span class="current capsule" style="color:rgba(0, 0, 0, 1);background-color: white;" aria-current="true" >en</span>
            
          </li>
        
          
          <li class="" style="margin:0px;">
            
              <a href="/zh-TW/v0.0.4/index.html" class="capsule" >zh-TW</a>
            
          </li>
        
      </ul>
    

    
      <ul class="version-switcher" style="list-style:none;display:flex;gap:8px;padding:0;margin:0;">
        
          
          <li class="active"  style="margin:0px;">
            
              <span class="current capsule" style="color:rgba(0, 0, 0, 1);background-color: white;" aria-current="true" >v0.0.4</span>
            
          </li>
        
      </ul>
    
  </nav>

  </div>
    <section>
      <div id="sidebar">
        
          <a href="./index.html">Bambook-DOC_V0.0.4</a>
        
          <a href="./01-tips.html">Terms & Typography Guide</a>
        
      </div>
    </section>
  </aside>

  <main id="content">



    <h1 id="MainTitle">Bambook-DOC_V0.0.4</h1>
    <hr/>


<nav class="page-toc" aria-label="Table of contents">
  <ol class="toc-h2">
    
      <li>
        <a href="#getting-started">Getting Started</a>
        
      </li>
    
      <li>
        <a href="#bambooktext-syntax-overview">BambookText Syntax Overview</a>
        
      </li>
    
      <li>
        <a href="#parameters-deep-dive">Parameters Deep Dive</a>
        
      </li>
    
      <li>
        <a href="#the-importance-of-bambooklanguage">The Importance of BambookLanguage</a>
        
      </li>
    
      <li>
        <a href="#code-example">Code Example</a>
        
      </li>
    
      <li>
        <a href="#disclaimer">Disclaimer</a>
        
      </li>
    
      <li>
        <a href="#license">License</a>
        
      </li>
    
      <li>
        <a href="#notes">Notes</a>
        
      </li>
    
  </ol>
</nav>


    <article class="doc-body"><h1 id="bambook-an-open-source-vertical-typesetting-package-for-flutter">Bambook: An open-source vertical typesetting package for Flutter.</h1>

<p>Vertical text is common across many East Asian weiting system(e.g.CJKV). But ironically, Flutter <strong>does not</strong> provide a native vertical text box. Bambook is here to save the day, allowing developers to quickly create vertical text layouts.</p>

<p><img src="/assets/images/003.jpg" alt="Vertical Typesetting Possibilities" class="showImage"></p>

<p>pub.dev link: <a href="https://pub.dev/packages/bambook/">https://pub.dev/packages/bambook/</a></p>

<h2 id="getting-started">Getting Started</h2>

<p>First, add <code>bambook</code> to your dependencies in <code>pubspec.yaml</code>:</p>

<pre><code class="language-yaml">dependencies:
  bambook: ^0.0.4 # or newer
</code></pre>

<p>Next, import the package in your Dart code:</p>

<pre><code class="language-dart">import 'package:bambook/bambook.dart';
</code></pre>

<h2 id="bambooktext-syntax-overview">
<code>BambookText</code> Syntax Overview</h2>

<p><code>BambookText</code> is the core Widget of this package. Its usage is very similar to Flutter’s native <code>Text</code> Widget.</p>

<pre><code class="language-dart">const BambookText(
  "Seasons change, sun and moon revolve, only the ink remains as solid as stone. --TwinType",
  style: TextStyle(
    fontSize: 22,
    color: Color.fromARGB(255, 8, 19, 76),
    fontFamily: 'LINESeed-TW_Rg',
  ),
  textAlign: BambookTextAlign.justify,
  language: BambookLanguage.tc,
  direction: BambookTextDirection.rtl,
  orientation: BambookTextOrientation.mixed,
  applyKinsoku: true,
  tateChuYoko: (false, 0), 
  punctuationFixMode: PunctuationFixMode.auto,
  lineSpacing: 24.0,
  letterSpacing: -10,
);

</code></pre>

<h2 id="parameters-deep-dive">Parameters Deep Dive</h2>

<p>Here’s the lowdown on every parameter in <code>BambookText</code>:</p>

<div style="overflow-x:scroll;">
<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Default</th>
      <th style="text-align: left; min-width: 600px;">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>data</code></td>
      <td><code>String</code></td>
      <td><strong>Required</strong></td>
      <td style="text-align: left">The text content you want to display.</td>
    </tr>
    <tr>
      <td><code>style</code></td>
      <td><code>TextStyle?</code></td>
      <td><code>null</code></td>
      <td style="text-align: left">Text style. Supports properties like <code>fontSize</code>, color, etc.</td>
    </tr>
    <tr>
      <td><code>textAlign</code></td>
      <td><code>BambookTextAlign</code></td>
      <td><code>BambookTextAlign.top</code></td>
      <td style="text-align: left">Sets the <strong>vertical alignment for a single line</strong>. Options: <code>top</code>, <code>center</code>, <code>bottom</code>, and <code>justify</code> (distributes text evenly).</td>
    </tr>
    <tr>
      <td><code>direction</code></td>
      <td><code>BambookTextDirection</code></td>
      <td><code>BambookTextDirection.rtl</code></td>
      <td style="text-align: left">Sets the <strong>line wrapping direction</strong>. Options: <code>rtl</code> (Right-to-Left, for traditional CJK), or <code>ltr</code> (Left-to-Right).</td>
    </tr>
    <tr>
      <td><code>orientation</code></td>
      <td><code>BambookTextOrientation</code></td>
      <td><code>BambookTextOrientation.mixed</code></td>
      <td style="text-align: left">Controls the <strong>orientation of Latin characters and digits</strong>. Three modes: <br>1. <code>mixed</code>: Rotates them 90° clockwise (sideways). <br>2. <code>upright</code>: Keeps them upright. <br>3. <code>tateChuYoko</code>: Forces them into horizontal orientation.</td>
    </tr>
    <tr>
      <td><code>language</code></td>
      <td><code>BambookLanguage</code></td>
      <td><code>BambookLanguage.tc</code></td>
      <td style="text-align: left">
<strong>Language Setting</strong>. This affects the <strong>default position of punctuation</strong>. <br><code>tc</code> (Trad. Chinese) centers punctuation. <br><code>sc</code> (Simp. Chinese), <code>jp</code> (Japanese), <code>kr</code> (Korean) align punctuation to the top-right (or corner). This aligns with regional typesetting standards.</td>
    </tr>
    <tr>
      <td><code>applyKinsoku</code></td>
      <td><code>bool</code></td>
      <td><code>true</code></td>
      <td style="text-align: left">Enables <strong>Kinsoku (Line breaking rules)</strong>. Prevents punctuation marks (like commas and periods) from appearing at the start of a line.</td>
    </tr>
    <tr>
      <td><code>lineSpacing</code></td>
      <td><code>double</code></td>
      <td><code>10.0</code></td>
      <td style="text-align: left">
<strong>Extra Line Spacing</strong>. Adds extra space (logic pixels) <strong>between columns/lines</strong>.<br><strong>WARNING:</strong> Do not use <code>text.style.height</code> or set it to <code>1</code>, as it's a default Flutter text parameter that can cause issues in Bambook.
</td>
    </tr>
    <tr>
      <td><code>letterSpacing</code></td>
      <td><code>double</code></td>
      <td><code>0.0</code></td>
      <td style="text-align: left">
<strong>Vertical Character Spacing</strong>. Sets extra vertical space between characters <strong>within the same line</strong>.<br><strong>WARNING:</strong> Do not use <code>style.letterSpacing</code> from `TextStyle`, as it increases <strong>horizontal width</strong> instead of vertical spacing. Use this parameter for vertical gap.</td>
    </tr>
    <tr>
      <td><code>punctuationFixMode</code></td>
      <td><code>PunctuationFixMode</code></td>
      <td><code>PunctuationFixMode.auto</code></td>
      <td style="text-align: left">
<strong>Punctuation Position Fix</strong>. Since OS fonts (especially on Android) vary in CJK support, punctuation might be off-center in vertical mode. <br>- <code>auto</code>: Based on font configuration.<br>- <code>force</code>: Force fix.<br>- <code>disable</code>: Disable fix. Recommended if using custom fonts (like <code>Noto Sans TC</code>) or on iOS/macOS for best performance.</td>
    </tr>
    <tr>
      <td><code>tateChuYoko</code></td>
      <td><code>(bool, int)?</code></td>
      <td><code>null</code></td>
      <td style="text-align: left">
<strong>Tate-chu-yoko (Horizontal-in-Vertical)</strong>. When set to <code>(bool, N)</code>, consecutive Latin/digits with length <strong>&lt;= N</strong> will be rotated to horizontal. <br>E.g., <code>tateChuYoko: (true, 2)</code> makes "A1" or "25" horizontal. <code>null</code> disables it. <code>(false, 2)</code> is also disabled.</td>
    </tr>
  </tbody>
</table>
</div>

<h2 id="the-importance-of-bambooklanguage">The Importance of <code>BambookLanguage</code>
</h2>

<p><code>BambookLanguage</code> isn’t just a hint—it directly dictates how punctuation is rendered to meet standard typesetting rules for different regions. Plus, it <strong>automatically sets the <code>Locale</code> for the underlying <code>TextStyle</code></strong>, helping Flutter pick the right font and ensuring your characters look crisp.</p>

<ul>
  <li>
<strong><code>BambookLanguage.tc</code> (Traditional Chinese)</strong>:
    <ul>
      <li>Punctuation (like <code>，</code>, <code>。</code>) is placed in the <strong>center</strong> of the character box.</li>
      <li>Automatically sets <code>Locale('zh', 'Hant')</code>.</li>
    </ul>
  </li>
  <li>
<strong><code>BambookLanguage.sc</code> (Simplified Chinese)</strong>:
    <ul>
      <li>Punctuation is placed in the <strong>top-right</strong> corner of the character box.</li>
      <li>Automatically sets <code>Locale('zh', 'CN')</code>.</li>
    </ul>
  </li>
  <li>
<strong><code>BambookLanguage.jp</code> (Japanese)</strong>:
    <ul>
      <li>Punctuation is placed in the <strong>top-right</strong> corner of the character box.</li>
      <li>Automatically sets <code>Locale('ja', 'JP')</code>.</li>
    </ul>
  </li>
  <li>
<strong><code>BambookLanguage.kr</code> (Korean)</strong>:
    <ul>
      <li>Punctuation is placed in the <strong>top-right</strong> corner of the character box.</li>
      <li>Automatically sets <code>Locale('ko', 'KR')</code>.</li>
    </ul>
  </li>
</ul>

<p>Setting this correctly ensures your layout visually matches the reading habits of your target audience and gets the most accurate font rendering. <strong>However</strong>, on <mark>some Android systems</mark>, you might see <mark>correct font loading</mark> but <mark>incorrect punctuation positioning</mark>. So, if you’re on Android and not using a custom font, we highly recommend setting <code>punctuationFixMode</code> to <code>force</code> to keep things looking sharp.</p>

<h2 id="code-example">Code Example</h2>

<p>Check out the <code>example</code> folder in the project for more.</p>

<pre><code class="language-dart">import 'package:flutter/material.dart';
import 'package:bambook/bambook.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
void main() {
  runApp(const BambookDemo());
}

class BambookDemo extends StatefulWidget {
  const BambookDemo({super.key});

  @override
  State&lt;BambookDemo&gt; createState() =&gt; _BambookDemoState();
}

class _BambookDemoState extends State&lt;BambookDemo&gt; {
  double _textHeight = 400;
  final double _minHeight = 200.0;

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: const Text('Bambook Vertical Typesetting Test')),
        body: LayoutBuilder(
          builder: (context, constraints) {
            final double availableHeight = constraints.maxHeight - 220;
            return Container(
              width: double.infinity,
              height: double.infinity,
              padding: const EdgeInsets.all(20),
              color: Colors.white,
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.center,
                children: [
                  const SizedBox(height: 20),
                  Align(
                    alignment: Alignment.center,
                    child: Container(
                      height: _textHeight &gt; availableHeight
                          ? availableHeight
                          : _textHeight,
                      constraints: const BoxConstraints(maxWidth: 360),
                      decoration: const BoxDecoration(border: null),
                      alignment: Alignment.center,
                      child: const BambookText(
                        "Seasons change, sun and moon revolve, only the ink remains as solid as stone. --TwinType",
                        style: TextStyle(
                          fontSize: 22,
                          color: Color.fromARGB(255, 8, 19, 76),
                          fontFamily: 'LINESeed-TW_Rg',
                        ),

                        textAlign: BambookTextAlign.justify, /// Text alignment
                        language: BambookLanguage.tc, /// Language mode, affects punctuation style
                        direction:BambookTextDirection.rtl,
                        orientation: BambookTextOrientation.mixed, /// Latin handling mode
                        applyKinsoku: true, /// Line breaking rules (Kinsoku)
                        tateChuYoko: (false, 0), /// Tate-chu-yoko
                        punctuationFixMode:PunctuationFixMode.auto, /// CJK font fix, enable if system font doesn't support CJK vertical punctuation
                        lineSpacing: 24.0, /// Vertical line spacing
                        letterSpacing: -10, /// Vertical character spacing
                      ),
                    ),
                  ),
                  GestureDetector(
                    behavior: HitTestBehavior.translucent,
                    onVerticalDragUpdate: (details) {
                      setState(() {
                        _textHeight += details.delta.dy;
                        if (_textHeight &lt; _minHeight) _textHeight = _minHeight;
                        if (_textHeight &gt; availableHeight) {
                          _textHeight = availableHeight;
                        }
                      });
                    },
                    child: Container(
                      width: double.infinity,
                      height: 48,
                      alignment: Alignment.center,
                      child: const Icon(Icons.drag_handle, color: Colors.grey),
                    ),
                  ),
                  const Spacer(),
                  const Text(
                    "Powered By TwinType",
                    style: TextStyle(
                      color: Colors.grey,
                      fontSize: 12,
                      letterSpacing: 1.2,
                    ),
                  ),
                ],
              ),
            );
          },
        ),
      ),
    );
  }
}

</code></pre>
<div class="img1">
    <img src="/assets/images/002.gif" alt="Preview" class="showImage">
</div>

<h2 id="disclaimer">Disclaimer</h2>
<p>This package is still in an early stage of development. East Asian typography is complex, and while we aim to cover most common use cases, we’re still improving things. We can’t guarantee correctness in every weird scenario (like mixing Japanese with Icelandic… wild!). Please manually verify your layout results, especially for critical uses like children’s education.</p>

<p>If you’re a linguistics or typography expert, we’d love your feedback!</p>

<p>This project is part of the Typexedra initiative, supported and maintained by TwinType. Submit issues for bugs or feature requests. Hope Bambook helps you build cool stuff! Any questions? Just ask.</p>

<h2 id="license">License</h2>

<p>This package is <strong>open source under the MIT License</strong>. Please read the full license text and abide by it.</p>

<p>Copyright (C) <year> <copyright holders=""></copyright></year></p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the “Software”), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

<h2 id="notes">Notes</h2>
<ol>
  <li>
    <p><code>V0.0.4</code> is our first public release. 0.0.1~0.0.3 were internal alpha builds. This doc is for <code>Bambook v0.0.4</code>.</p>
  </li>
  <li>
    <p>This project is a sub-project of Typexedra, maintained by <a href="https://twintype.co" title="TwinType">TwinType</a>. For bugs or features, submit an issue. If you’re a tech or language expert, join our discussion! Share via GitHub or email: Willy@twintyp.co. Much appreciated!</p>
  </li>
  <li>
    <p>Check out the next chapter: <strong>Glossary and Typography Guide</strong> to learn more about vertical text and Bambook tricks.</p>
  </li>
</ol>

</article>
  </main>

  <!-- Prism JS -->
    <script src="https://unpkg.com/prismjs/prism.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-ruby.min.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-javascript.min.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-python.min.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-markdown.min.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-bash.min.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-dart.min.js"></script>
    <script src="https://unpkg.com/prismjs/components/prism-yaml.min.js"></script>

  
    <script src="/assets/script/extras.js"></script>
  <script>
  (function liveReload(){
    var last=null;
    function tick(){
      fetch('/.stamp',{cache:'no-store'}).then(function(r){
        if(!r.ok) return;
        return r.text();
      }).then(function(txt){
        if(typeof txt!=='string') return;
        if(last && last!==txt) location.reload();
        last = txt;
      }).catch(function(){});
      setTimeout(tick,1000);
    }
    tick();
  })();
  </script>


  <script>
  (function(){
    var mqMobile = window.matchMedia('(max-width: 600px)');
    var body = document.body;
    var sidebar = document.getElementById('sidebarBox');
    var toggleBtn = document.getElementById('sidebarToggle');
    var backdrop = document.getElementById('sidebarBackdrop');
    if(!sidebar || !toggleBtn || !backdrop) return;

    var isOpen = false, lastScrollY = 0;

    function lockScroll(){
      lastScrollY = window.scrollY || window.pageYOffset || 0;
      body.style.position = 'fixed';
      body.style.top = (-lastScrollY) + 'px';
      body.style.left = '0'; body.style.right = '0'; body.style.width = '100%';
    }
    function unlockScroll(){
      body.style.position = '';
      body.style.top = ''; body.style.left = ''; body.style.right = ''; body.style.width = '';
      window.scrollTo(0,lastScrollY);
    }
    function openSidebar(){
      if(isOpen) return;
      isOpen = true;
      sidebar.classList.add('active');
      sidebar.setAttribute('aria-hidden','false');
      toggleBtn.setAttribute('aria-expanded','true');
      backdrop.style.display = 'block';
      lockScroll();
    }
    function closeSidebar(){
      if(!isOpen) return;
      isOpen = false;
      sidebar.classList.remove('active');
      sidebar.setAttribute('aria-hidden','true');
      toggleBtn.setAttribute('aria-expanded','false');
      backdrop.style.display = 'none';
      unlockScroll();
    }
    function toggleSidebar(){
      if(!mqMobile.matches) return;
      isOpen ? closeSidebar() : openSidebar();
    }

    toggleBtn.addEventListener('click', toggleSidebar);
    backdrop.addEventListener('click', closeSidebar);
    document.addEventListener('keydown', function(e){ if(e.key==='Escape' && isOpen) closeSidebar(); });
    sidebar.addEventListener('click', function(e){
      var a = e.target.closest('a');
      if(a && mqMobile.matches){ setTimeout(closeSidebar,0); }
    });
    mqMobile.addEventListener('change', function(ev){
      if(!ev.matches){ closeSidebar(); }
    });

    var sx=0, sy=0;
    sidebar.addEventListener('touchstart', function(e){
      if(!mqMobile.matches) return;
      var t=e.touches[0]; sx=t.clientX; sy=t.clientY;
    }, {passive:true});
    sidebar.addEventListener('touchend', function(e){
      if(!mqMobile.matches) return;
      var t=e.changedTouches[0], dx=t.clientX-sx, dy=Math.abs(t.clientY-sy);
      if(dx < -60 && dy < 40){ closeSidebar(); }
    }, {passive:true});
  })();
  </script>
  <script>
workbox.routing.registerRoute(
  ({request}) => request.destination === 'video',
  new workbox.strategies.CacheFirst({
    plugins: [new workbox.rangeRequests.Plugin()],
    cacheName: 'videos',
  })
);
  </script>
</body>
</html>
